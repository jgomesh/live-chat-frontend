{"ast":null,"code":"import transformArrayToMap from \"./transformArrayToMap\";\nimport axios from \"axios\";\nimport { register, getPublic, getPrivate } from \"../api/requests\";\n\nconst registerUser = async (connectWebSocket, setPublicChats, setPrivateChats, userData) => {\n  try {\n    const config = {\n      headers: {\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"GET,PUT,POST,DELETE,PATCH,OPTIONS\"\n      }\n    };\n    const registerResponse = await register(userData.username);\n    const publicResponse = await getPublic();\n    const privateResponse = await getPrivate(userData.username);\n    const publicChatData = publicResponse.data.map(publicMessage => ({ ...publicMessage,\n      status: \"MESSAGE\",\n      receiverName: null\n    }));\n    const privateChatData = privateResponse.data;\n    const MapPrivateChat = transformArrayToMap(privateChatData, userData);\n    setPublicChats(publicChatData);\n    setPrivateChats(MapPrivateChat);\n    connectWebSocket();\n  } catch (error) {\n    console.log(error.message);\n  }\n};\n\nexport default registerUser;","map":{"version":3,"sources":["/home/jgomesh/WORKWORK/ChatApplication/react-client/src/utils/registerUser.js"],"names":["transformArrayToMap","axios","register","getPublic","getPrivate","registerUser","connectWebSocket","setPublicChats","setPrivateChats","userData","config","headers","registerResponse","username","publicResponse","privateResponse","publicChatData","data","map","publicMessage","status","receiverName","privateChatData","MapPrivateChat","error","console","log","message"],"mappings":"AAAA,OAAOA,mBAAP,MAAgC,uBAAhC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,EAAmBC,SAAnB,EAA8BC,UAA9B,QAAgD,iBAAhD;;AACA,MAAMC,YAAY,GAAG,OAAOC,gBAAP,EAAyBC,cAAzB,EAAyCC,eAAzC,EAA0DC,QAA1D,KAAuE;AAC1F,MAAI;AACF,UAAMC,MAAM,GAAG;AACbC,MAAAA,OAAO,EAAE;AACP,uCAA+B,GADxB;AAEP,wCAAgC;AAFzB;AADI,KAAf;AAMA,UAAMC,gBAAgB,GAAG,MAAMV,QAAQ,CAACO,QAAQ,CAACI,QAAV,CAAvC;AACA,UAAMC,cAAc,GAAG,MAAMX,SAAS,EAAtC;AACA,UAAMY,eAAe,GAAG,MAAMX,UAAU,CAACK,QAAQ,CAACI,QAAV,CAAxC;AACA,UAAMG,cAAc,GAAGF,cAAc,CAACG,IAAf,CAAoBC,GAApB,CAAyBC,aAAD,KAAoB,EAAE,GAAGA,aAAL;AAAoBC,MAAAA,MAAM,EAAE,SAA5B;AAAuCC,MAAAA,YAAY,EAAE;AAArD,KAApB,CAAxB,CAAvB;AACA,UAAMC,eAAe,GAAGP,eAAe,CAACE,IAAxC;AAEA,UAAMM,cAAc,GAAGvB,mBAAmB,CAACsB,eAAD,EAAkBb,QAAlB,CAA1C;AACAF,IAAAA,cAAc,CAACS,cAAD,CAAd;AACAR,IAAAA,eAAe,CAACe,cAAD,CAAf;AACAjB,IAAAA,gBAAgB;AACjB,GAjBD,CAiBE,OAAOkB,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,OAAlB;AACD;AACF,CArBD;;AAuBA,eAAetB,YAAf","sourcesContent":["import transformArrayToMap from \"./transformArrayToMap\";\nimport axios from \"axios\";\nimport { register, getPublic, getPrivate } from \"../api/requests\";\nconst registerUser = async (connectWebSocket, setPublicChats, setPrivateChats, userData) => {\n  try {\n    const config = {\n      headers: {\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"GET,PUT,POST,DELETE,PATCH,OPTIONS\"\n      }\n    };\n    const registerResponse = await register(userData.username);\n    const publicResponse = await getPublic();\n    const privateResponse = await getPrivate(userData.username);\n    const publicChatData = publicResponse.data.map((publicMessage) => ({ ...publicMessage, status: \"MESSAGE\", receiverName: null }));\n    const privateChatData = privateResponse.data;\n\n    const MapPrivateChat = transformArrayToMap(privateChatData, userData);\n    setPublicChats(publicChatData);\n    setPrivateChats(MapPrivateChat);\n    connectWebSocket();\n  } catch (error) {\n    console.log(error.message);\n  }\n};\n\nexport default registerUser;\n"]},"metadata":{},"sourceType":"module"}