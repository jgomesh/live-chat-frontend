{"ast":null,"code":"import userJoin from \"./userJoin\";\n\nconst onConnected = (setUserData, stompClient, onPrivateMessage, userData, privateChats, setPrivateChats, publicChats, setPublicChats) => {\n  const onMessageReceived = payload => {\n    var payloadData = JSON.parse(payload.body);\n\n    switch (payloadData.status) {\n      case \"JOIN\":\n        if (!privateChats.get(payloadData.senderName)) {\n          privateChats.set(payloadData.senderName, []);\n          setPrivateChats(new Map(privateChats));\n        }\n\n        break;\n\n      case \"MESSAGE\":\n        publicChats.push(payloadData);\n        setPublicChats([...publicChats]);\n        break;\n    }\n  };\n\n  setUserData({ ...userData,\n    \"connected\": true\n  });\n  stompClient.subscribe('/chatroom/public', onMessageReceived);\n  stompClient.subscribe('/user/' + userData.username + '/private', onPrivateMessage);\n  userJoin(userData, stompClient);\n};\n\nexport default onConnected;","map":{"version":3,"sources":["/home/jgomesh/WORKWORK/ChatApplication/react-client/src/utils/onConnected.js"],"names":["userJoin","onConnected","setUserData","stompClient","onPrivateMessage","userData","privateChats","setPrivateChats","publicChats","setPublicChats","onMessageReceived","payload","payloadData","JSON","parse","body","status","get","senderName","set","Map","push","subscribe","username"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,YAArB;;AAEA,MAAMC,WAAW,GAAG,CAClBC,WADkB,EAElBC,WAFkB,EAGlBC,gBAHkB,EAIlBC,QAJkB,EAKlBC,YALkB,EAMlBC,eANkB,EAOlBC,WAPkB,EAQlBC,cARkB,KAQC;AACnB,QAAMC,iBAAiB,GAAIC,OAAD,IAAW;AACnC,QAAIC,WAAW,GAAGC,IAAI,CAACC,KAAL,CAAWH,OAAO,CAACI,IAAnB,CAAlB;;AACA,YAAOH,WAAW,CAACI,MAAnB;AACI,WAAK,MAAL;AACI,YAAG,CAACV,YAAY,CAACW,GAAb,CAAiBL,WAAW,CAACM,UAA7B,CAAJ,EAA6C;AACzCZ,UAAAA,YAAY,CAACa,GAAb,CAAiBP,WAAW,CAACM,UAA7B,EAAwC,EAAxC;AACAX,UAAAA,eAAe,CAAC,IAAIa,GAAJ,CAAQd,YAAR,CAAD,CAAf;AACH;;AACD;;AACJ,WAAK,SAAL;AACIE,QAAAA,WAAW,CAACa,IAAZ,CAAiBT,WAAjB;AACAH,QAAAA,cAAc,CAAC,CAAC,GAAGD,WAAJ,CAAD,CAAd;AACA;AAVR;AAYD,GAdD;;AAeAN,EAAAA,WAAW,CAAC,EAAC,GAAGG,QAAJ;AAAa,iBAAa;AAA1B,GAAD,CAAX;AACAF,EAAAA,WAAW,CAACmB,SAAZ,CAAsB,kBAAtB,EAA0CZ,iBAA1C;AACAP,EAAAA,WAAW,CAACmB,SAAZ,CAAsB,WAAWjB,QAAQ,CAACkB,QAApB,GAA+B,UAArD,EAAiEnB,gBAAjE;AACAJ,EAAAA,QAAQ,CAACK,QAAD,EAAWF,WAAX,CAAR;AACD,CA5BD;;AA8BA,eAAeF,WAAf","sourcesContent":["import userJoin from \"./userJoin\";\n\nconst onConnected = (\n  setUserData,\n  stompClient,\n  onPrivateMessage,\n  userData,\n  privateChats,\n  setPrivateChats,\n  publicChats,\n  setPublicChats) => {\n  const onMessageReceived = (payload)=>{\n    var payloadData = JSON.parse(payload.body);\n    switch(payloadData.status){\n        case \"JOIN\":\n            if(!privateChats.get(payloadData.senderName)){\n                privateChats.set(payloadData.senderName,[]);\n                setPrivateChats(new Map(privateChats));\n            }\n            break;\n        case \"MESSAGE\":\n            publicChats.push(payloadData);\n            setPublicChats([...publicChats]);\n            break;\n    }\n  }\n  setUserData({...userData,\"connected\": true});\n  stompClient.subscribe('/chatroom/public', onMessageReceived);\n  stompClient.subscribe('/user/' + userData.username + '/private', onPrivateMessage);\n  userJoin(userData, stompClient);\n}\n\nexport default onConnected;\n"]},"metadata":{},"sourceType":"module"}